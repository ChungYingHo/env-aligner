{"version":3,"file":"index.min.js","sources":["../src/lib/colorFormat.js","../src/lib/fileReader.js","../src/lib/envHandler.js","../src/lib/index.js?commonjs-entry","../src/lib/index.js","../src/constant/default.js"],"sourcesContent":["// ç´…åº•ç™½å­—\r\nfunction formatRedInverse (msg) {\r\n  return `\\x1b[41m\\x1b[37m${msg}\\x1b[0m`\r\n}\r\n\r\n// ç´…å­—\r\nfunction formatRed (msg) {\r\n  return `\\x1b[31m${msg}\\x1b[0m`\r\n}\r\n\r\n// é»ƒåº•ç™½å­—\r\nfunction formatYellowInverse (msg) {\r\n  return `\\x1b[43m\\x1b[37m${msg}\\x1b[0m`\r\n}\r\n\r\n// é»ƒå­—\r\nfunction formatYellow (msg) {\r\n  return `\\x1b[33m${msg}\\x1b[0m`\r\n}\r\n\r\n// è—åº•ç™½å­—\r\nfunction formatBlueInverse (msg) {\r\n  return `\\x1b[44m\\x1b[37m${msg}\\x1b[0m`\r\n}\r\n\r\n// è—å­—\r\nfunction formatBlue (msg) {\r\n  return `\\x1b[34m${msg}\\x1b[0m`\r\n}\r\n\r\n// ç¶ åº•ç™½å­—\r\nfunction formatGreenInverse (msg) {\r\n  return `\\x1b[42m\\x1b[37m${msg}\\x1b[0m`\r\n}\r\n\r\n// ç¶ å­—\r\nfunction formatGreen (msg) {\r\n  return `\\x1b[32m${msg}\\x1b[0m`\r\n}\r\n\r\nmodule.exports = {\r\n  formatRedInverse,\r\n  formatRed,\r\n  formatYellowInverse,\r\n  formatYellow,\r\n  formatBlueInverse,\r\n  formatBlue,\r\n  formatGreenInverse,\r\n  formatGreen\r\n}","const fs = require('fs')\r\nconst dotenv = require('dotenv')\r\nconst colorFormat = require('./colorFormat')\r\n\r\n/**\r\n * è§£æç’°å¢ƒè®Šæ•¸\r\n * @param {string} filePath\r\n * @returns æ‡‰å›å‚³ä¸€å€‹ç‰©ä»¶ï¼ŒåŒ…å«äº†æª”æ¡ˆä¸­çš„ç’°å¢ƒè®Šæ•¸\r\n */\r\nconst parseEnvFile = (filePath) => {\r\n  const fileContent = fs.readFileSync(filePath, 'utf8')\r\n  const parsedContent = dotenv.parse(fileContent)\r\n\r\n  if (!parsedContent) {\r\n    console.error(colorFormat.formatRedInverse(`\\nFailed to parse ${filePath}`))\r\n    process.exit(1)\r\n  }\r\n\r\n  if (!Object.keys(parsedContent).length) {\r\n    console.error(colorFormat.formatRedInverse(`\\n${filePath} is empty or has no valid variables.`))\r\n    process.exit(1)\r\n  }\r\n\r\n  return parsedContent\r\n}\r\n\r\n/**\r\n * æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨\r\n * @param {string} targetPath\r\n * @returns {Promise<boolean>} å¦‚æœæª”æ¡ˆå­˜åœ¨å‰‡å›å‚³ trueï¼Œå¦å‰‡å›å‚³ false\r\n */\r\nasync function fileExists (targetPath) {\r\n  try {\r\n    await fs.promises.access(targetPath, fs.constants.F_OK)\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * é€™å€‹å‡½å¼æœƒæª¢æŸ¥ fileNames ç‰©ä»¶æ˜¯å¦æœ‰ç¼ºå°‘å¿…è¦çš„ key æˆ–æ˜¯ key çš„å€¼ä¸æ˜¯ string\r\n * @param {string} fileNames\r\n */\r\nconst validateFileNames = (fileNames) => {\r\n  const requiredKeys = ['schemaName', 'envName']\r\n\r\n  requiredKeys.forEach(key => {\r\n    if(!(key in fileNames)) {\r\n      console.error(colorFormat.formatRedInverse(`\\nMissing required key: ${key}`))\r\n      process.exit(1)\r\n    }\r\n\r\n    if (typeof fileNames[key] !== 'string') {\r\n      console.error(colorFormat.formatRedInverse(`\\n${key} must be a string`))\r\n      process.exit(1)\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * é©—è­‰æŒ‡å®šè·¯å¾‘æ˜¯å¦ç‚ºæœ‰æ•ˆè³‡æ–™å¤¾\r\n * @param {string} dirPath - è¦é©—è­‰çš„ç›®éŒ„è·¯å¾‘\r\n */\r\nasync function validateDirectory (dirPath) {\r\n  try {\r\n    const stats = await fs.promises.stat(dirPath)\r\n    if (!stats.isDirectory()) {\r\n      console.error(colorFormat.formatRed(`[error] ${dirPath} is not a directory.`))\r\n      process.exit(1)\r\n    }\r\n  } catch (error) {\r\n    console.error(colorFormat.formatRed(`[error] Failed to access ${dirPath}: ${error.message}`))\r\n    process.exit(1)\r\n  }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n  parseEnvFile,\r\n  fileExists,\r\n  validateFileNames,\r\n  validateDirectory\r\n}","const fs = require('fs')\r\nconst dotenv = require('dotenv')\r\nconst path = require('path')\r\nconst colorFormat = require('./colorFormat')\r\nconst fileReader = require('./fileReader')\r\n/**\r\n * å¾ schema è¤‡è£½å‡º .env æª”æ¡ˆï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰\r\n * @param {string} rootDir è³‡æ–™å¤¾è·¯å¾‘\r\n * @param {string} schemaFileName schema æª”æ¡ˆåç¨±ï¼ˆé è¨­ .env.exampleï¼‰\r\n * @param {string} envFileName è¦ç”¢å‡ºçš„ .env æª”åï¼ˆé è¨­ .envï¼‰\r\n */\r\n\r\nconst cloneSchemaToEnv = async (schemaFileName, envFileName, rootDir) => {\r\n  const schemaFilePath = path.join(rootDir, schemaFileName)\r\n  const envFilePath = path.join(rootDir, envFileName)\r\n\r\n  // æª¢æŸ¥ schema æª”æ¡ˆæ˜¯å¦å­˜åœ¨\r\n  if (!(await fileReader.fileExists(schemaFilePath))) {\r\n    console.error(colorFormat.formatRedInverse(`\\nSchema file ${schemaFileName} does not exist in ${rootDir}`))\r\n    process.exit(1)\r\n  }\r\n\r\n  // å¦‚æœ .env æª”æ¡ˆä¸å­˜åœ¨ï¼Œå‰‡è¤‡è£½ schema æª”æ¡ˆåˆ° .env\r\n  if (!(await fileReader.fileExists(envFilePath))) {\r\n    await fs.promises.copyFile(schemaFilePath, envFilePath)\r\n    console.log(colorFormat.formatGreen(`\\nCopied ${schemaFileName} to ${envFileName} in ${rootDir}`))\r\n  } else {\r\n    console.log(colorFormat.formatBlue(`\\n${envFileName} already exists in ${rootDir}, skipping copy.`))\r\n  }\r\n}\r\n\r\n/**\r\n * æ ¹æ“š schema å°é½Š .env æª”æ¡ˆçš„æ ¼å¼èˆ‡è®Šæ•¸é †åº\r\n * æ”¯æ´å¤šè¡Œè®Šæ•¸å€¼ï¼ˆä¾‹å¦‚æ†‘è­‰ï¼‰\r\n */\r\nconst alignEnvWithSchema = async (schemaFilePath, envFilePath) => {\r\n  const schemaRaw = fs.readFileSync(schemaFilePath, 'utf8')\r\n  const schemaVars = dotenv.parse(schemaRaw)\r\n  const envVars = fileReader.parseEnvFile(envFilePath)\r\n\r\n  const outputLines = []\r\n  const lineBuffer = schemaRaw.split(/\\r?\\n/)\r\n\r\n  for (let i = 0; i < lineBuffer.length; i++) {\r\n    const line = lineBuffer[i].trim()\r\n\r\n    // ç©ºè¡Œ\r\n    if (line === '') {\r\n      outputLines.push('')\r\n      continue\r\n    }\r\n\r\n    // è¨»è§£\r\n    if (line.startsWith('#')) {\r\n      outputLines.push(lineBuffer[i])\r\n      continue\r\n    }\r\n\r\n    // åˆ¤æ–·æ˜¯ä¸æ˜¯æ–°çš„è®Šæ•¸å®£å‘Š\r\n    const equalIndex = line.indexOf('=')\r\n    if (equalIndex !== -1) {\r\n      const key = line.slice(0, equalIndex).trim()\r\n\r\n      if (key in schemaVars) {\r\n        const value = envVars[key] ?? ''\r\n        const quoted = value.includes('\\n') ? `\"${value}\"` : value\r\n        outputLines.push(`${key}=${quoted}`)\r\n      }\r\n    }\r\n  }\r\n\r\n  await fs.promises.writeFile(envFilePath, outputLines.join('\\n'), 'utf8')\r\n\r\n  console.log(colorFormat.formatGreenInverse(`\\nAligned ${path.basename(envFilePath)} with ${path.basename(schemaFilePath)}`))\r\n}\r\n\r\n/**\r\n * æœƒæª¢æŸ¥ schema æª”æ¡ˆä¸­çš„è®Šæ•¸æ˜¯å¦éƒ½æœ‰åœ¨ env æª”æ¡ˆä¸­å‡ºç¾\r\n * @param {string} schemaFilePath\r\n * @param {string} envFilePath\r\n */\r\nconst checkEnvVariables = async (schemaFilePath, envFilePath, isStrict, isAlign) => {\r\n  const schemaVars = fileReader.parseEnvFile(schemaFilePath)\r\n  const envVars = fileReader.parseEnvFile(envFilePath)\r\n  const schemaKeys = Object.keys(schemaVars)\r\n  const envKeys = Object.keys(envVars)\r\n\r\n  const missingKeys = schemaKeys.filter(key => !envKeys.includes(key))\r\n  const emptyValueKeys = schemaKeys.filter(\r\n    key => schemaVars[key] && envVars[key] === '' && !missingKeys.includes(key)\r\n  )\r\n  const extraKeys = isStrict ? envKeys.filter(key => !schemaKeys.includes(key)) : []\r\n\r\n  const envDir = path.dirname(envFilePath)\r\n\r\n  if (missingKeys.length > 0) {\r\n    console.error(colorFormat.formatRedInverse(`\\n[Missing Variables] in ${envDir}`))\r\n    console.log(colorFormat.formatRed(`â†’ ${missingKeys.join(', ')}`))\r\n  }\r\n\r\n  if (emptyValueKeys.length > 0) {\r\n    console.error(colorFormat.formatYellowInverse(`\\n[Empty Variables] in ${envDir}`))\r\n    console.log(colorFormat.formatYellow(`â†’ ${emptyValueKeys.join(', ')}`))\r\n  }\r\n\r\n  if (extraKeys.length > 0) {\r\n    console.error(colorFormat.formatBlueInverse(`\\n[Extra Variables] in ${envDir}`))\r\n    console.log(colorFormat.formatBlue(`â†’ ${extraKeys.join(', ')}`))\r\n  }\r\n\r\n  if (isStrict && isAlign) {\r\n    await alignEnvWithSchema(schemaFilePath, envFilePath)\r\n  } else if (!isStrict && isAlign) {\r\n    console.warn(colorFormat.formatYellowInverse(\r\n      `\\n[Warning] The \"align\" option can only be used in strict mode. Skipping alignment.`\r\n    ))\r\n  }\r\n\r\n  if (missingKeys.length > 0 || emptyValueKeys.length > 0 ) { \r\n    process.exit(1)\r\n  } else {\r\n    const msg = `\r\n      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\r\n      ğŸ‰ SUCCESS! ENV CHECK PASSED ğŸ‰\r\n\r\n      âœ… All variables in: ${envDir}\r\n\r\n      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\r\n    `\r\n    console.log(colorFormat.formatGreen(msg))\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  cloneSchemaToEnv,\r\n  alignEnvWithSchema,\r\n  checkEnvVariables\r\n}","import { getDefaultExportFromCjs } from \"\u0000commonjsHelpers.js\";\nimport { __require as requireLib } from \"C:\\\\Users\\\\gis\\\\Documents\\\\Project\\\\å¥—ä»¶é–‹ç™¼\\\\envAligner\\\\src\\\\lib\\\\index.js\";\nvar libExports = requireLib();\nexport { libExports as __moduleExports };\nexport default /*@__PURE__*/getDefaultExportFromCjs(libExports);","const fs = require('fs')\r\nconst path = require('path')\r\nconst colorFormat = require('./colorFormat')\r\nconst fileReader = require('./fileReader')\r\nconst envHandler = require('./envHandler')\r\nconst { defaultDir, defaultFiles, defaultMode } = require('../constant/default')\r\n\r\n/**\r\n * envAlignerï¼šä¸»ç¨‹å¼å…¥å£ï¼Œç”¨æ–¼é©—è­‰æˆ–å»ºç«‹å„è³‡æ–™å¤¾ä¸­çš„ .env æª”æ¡ˆã€‚\r\n * \r\n * æ”¯æ´åŠŸèƒ½ï¼š\r\n * 1. éè¿´æª¢æŸ¥æŒ‡å®šç›®éŒ„èˆ‡å­ç›®éŒ„ä¸‹çš„ `.env` èˆ‡ schemaï¼ˆé è¨­ç‚º `.env.example`ï¼‰\r\n * 2. å¯å•Ÿç”¨åš´æ ¼æ¨¡å¼ï¼ˆisStrictï¼‰æª¢æŸ¥å¤šé¤˜è®Šæ•¸\r\n * 3. å¯å•Ÿç”¨å°é½Šæ¨¡å¼ï¼ˆisAlignï¼‰è‡ªå‹•ä¿®æ­£ .env æ ¼å¼\r\n * 4. å¯å•Ÿç”¨è¤‡è£½æ¨¡å¼ï¼ˆisCloneï¼‰å¾ schema å»ºç«‹ .env æª”æ¡ˆï¼ˆè‹¥ä¸å­˜åœ¨ï¼‰\r\n * \r\n * @param {Object} options\r\n * @param {string} [options.rootDir] - æ ¹ç›®éŒ„è·¯å¾‘ï¼Œé è¨­ç‚º process.cwd()\r\n * @param {Object} [options.fileNames] - è‡ªå®šç¾©æª”åï¼ˆä¾‹å¦‚ `{ schemaName: '.env.example', envName: '.env' }`ï¼‰\r\n * @param {Object} [options.mode] - æ¨¡å¼æ§åˆ¶ç‰©ä»¶ `{ isStrict?: boolean, isAlign?: boolean }`\r\n * @param {boolean} [options.isClone] - æ˜¯å¦ç‚ºè¤‡è£½æ¨¡å¼ï¼Œé è¨­ç‚º false\r\n * \r\n * @returns {Promise<boolean>} - è‹¥æˆåŠŸå®Œæˆæª¢æŸ¥æˆ–å»ºç«‹ï¼Œå›å‚³ trueï¼Œå¦å‰‡éè¿´è‡³ä¸‹ä¸€å±¤\r\n */\r\n\r\nconst envAligner = async ({\r\n  rootDir = defaultDir,\r\n  fileNames = defaultFiles,\r\n  mode = defaultMode,\r\n  isClone = false\r\n} = {}) => {\r\n\r\n  const mergedFileNames = { ...defaultFiles, ...fileNames }\r\n  // æª¢æŸ¥æª”æ¡ˆåç¨±æ˜¯å¦æ­£ç¢º\r\n  fileReader.validateFileNames(mergedFileNames)\r\n\r\n  const { schemaName: schemaFileName, envName: envFileName } = mergedFileNames\r\n  const { isStrict, isAlign } = mode\r\n\r\n  // ç¢ºä¿ç›®éŒ„å­˜åœ¨ä¸”ç‚ºè³‡æ–™å¤¾\r\n  await fileReader.validateDirectory(rootDir)\r\n\r\n  // è‹¥ isClone ç‚º trueï¼Œå‰‡å˜—è©¦è¤‡è£½ schema æª”æ¡ˆåˆ° env æª”æ¡ˆ\r\n  if (isClone) {\r\n    const didClone = await envHandler.cloneSchemaToEnv(schemaFileName, envFileName, rootDir)\r\n    if (didClone) {\r\n      console.log(colorFormat.formatGreen(`âœ… env file created successfully in ${rootDir}`))\r\n    }\r\n    return\r\n  }\r\n\r\n  // è®€å–ç›®éŒ„å…§å®¹\r\n  const dirContents = await fs.promises.readdir(rootDir, { withFileTypes: true })\r\n  const directoryEntries = dirContents.map(entry => entry.name)\r\n\r\n  // çµ„åˆ schema å’Œ env æª”æ¡ˆçš„å®Œæ•´è·¯å¾‘\r\n  const schemaFilePath = path.join(rootDir, schemaFileName)\r\n  const envFilePath = path.join(rootDir, envFileName)\r\n\r\n  // è‹¥æœ‰ .env æª”æ¡ˆï¼ŒåŸ·è¡Œæ¯”å°ä¸¦åœæ­¢éè¿´\r\n  if (directoryEntries.includes(envFileName)) {\r\n    const [schemaExists, envExists] = await Promise.all([\r\n      fileReader.fileExists(schemaFilePath),\r\n      fileReader.fileExists(envFilePath)\r\n    ])\r\n\r\n    if (schemaExists && envExists) {\r\n      envHandler.checkEnvVariables(schemaFilePath, envFilePath, isStrict, isAlign)\r\n\r\n      return true\r\n    } else {\r\n      console.log(\r\n        colorFormat.formatBlue(`[info] Skipping check in ${rootDir}, searching deeper...`)\r\n      )\r\n    }\r\n  }\r\n\r\n  // å¦å‰‡éè¿´æª¢æŸ¥å­ç›®éŒ„\r\n  for (const item of dirContents) {\r\n    if (!item.isDirectory() || ['node_modules', 'dist'].includes(item.name)) {\r\n      continue\r\n    }\r\n\r\n    const subDirPath = path.join(rootDir, item.name)\r\n    const isChecked = await envAligner({ rootDir: subDirPath, fileNames, mode })\r\n\r\n    if (isChecked) return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nmodule.exports = envAligner","const defaultDir = process.cwd()\r\nconst defaultSchemaFileName = '.env.example'\r\nconst defaultEnvFileName = '.env'\r\nconst defaultFiles = {\r\n  schemaName: defaultSchemaFileName,\r\n  envName: defaultEnvFileName\r\n}\r\nconst defaultMode = {\r\n  isStrict: false,\r\n  isAlign: false\r\n}\r\n\r\nmodule.exports = {\r\n  defaultDir,\r\n  defaultSchemaFileName,\r\n  defaultEnvFileName,\r\n  defaultFiles,\r\n  defaultMode\r\n}"],"names":["colorFormat","formatRedInverse","msg","formatRed","formatYellowInverse","formatYellow","formatBlueInverse","formatBlue","formatGreenInverse","formatGreen","fs","require$$0","dotenv","require$$1","require$$2","fileReader","parseEnvFile","filePath","fileContent","readFileSync","parsedContent","parse","console","error","process","exit","Object","keys","length","fileExists","async","targetPath","promises","access","constants","F_OK","validateFileNames","fileNames","forEach","key","validateDirectory","dirPath","stat","isDirectory","message","path","require$$3","require$$4","alignEnvWithSchema","schemaFilePath","envFilePath","schemaRaw","schemaVars","envVars","outputLines","lineBuffer","split","i","line","trim","push","startsWith","equalIndex","indexOf","slice","value","quoted","includes","writeFile","join","log","basename","envHandler","cloneSchemaToEnv","schemaFileName","envFileName","rootDir","copyFile","checkEnvVariables","isStrict","isAlign","schemaKeys","envKeys","missingKeys","filter","emptyValueKeys","extraKeys","envDir","dirname","warn","libExports","defaultDir","defaultFiles","defaultMode","cwd","defaultSchemaFileName","defaultEnvFileName","_default","schemaName","envName","require$$5","envAligner","mode","isClone","mergedFileNames","dirContents","readdir","withFileTypes","directoryEntries","map","entry","name","schemaExists","envExists","Promise","all","item","subDirPath","lib","requireLib","index","getDefaultExportFromCjs"],"mappings":"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"}